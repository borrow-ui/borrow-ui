import { Fragment } from 'react';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { Button } from '../button/Button';
import { Icon } from '../icon/Icon';
import { IconControl } from '../icon/IconControl';
import { Lorem } from '../lorem/Lorem';

import { ReferenceOverlay } from './ReferenceOverlay';

<Meta title="Components/ReferenceOverlay" component={ReferenceOverlay} />

# ReferenceOverlay

ReferenceOverlay is used to show an overlay when the trigger is clicked or hovered.

The `ReferenceOverlay` component accepts two main props:

-   `overlayContent`: the content of the overlay;
-   `children`: an element that, when hovered or clicked, will show the overlay;

The component is based on the great external library [Popper](https://popper.js.org/) and it's hook.

<Canvas>
    <Story name="Default">
        <ReferenceOverlay overlayContent="This is a simple text" className="m-r-20">
            <Button mean="positive">Hover me</Button>
        </ReferenceOverlay>
        <ReferenceOverlay overlayContent="If you need help, read the docs!" className="m-r-20">
            <Icon name="help" className="color-primary" />
        </ReferenceOverlay>
        <ReferenceOverlay
            overlayContent={
                <div
                    style={{
                        border: '1px solid #444',
                        padding: 5,
                        marginRight: 5,
                        backgroundColor: 'white',
                    }}
                >
                    This should be shown on the right
                </div>
            }
            className="m-r-20"
            placement="right"
        >
            <Button mean="primary-reverse">Right placed</Button>
        </ReferenceOverlay>
        <ReferenceOverlay
            overlayContent="You must click the trigger or this message to close me!"
            className="m-r-20"
            placement="bottom"
            triggerMode="click"
        >
            <Button mean="primary-reverse">Click</Button>
        </ReferenceOverlay>
    </Story>
</Canvas>

## Positioning

Popper automatically set coordinates to the overlay element accordingly to the visibility.

The following demo allows to see this in action:

<Canvas>
    <Story name="Positioning">
        <div style={{ overflow: 'hidden', position: 'relative' }}>
            <div style={{ width: '100%', height: 400, overflow: 'auto', padding: 10 }}>
                <div style={{ width: '200%' }}>
                    <div style={{ display: 'block', height: 160 }}></div>
                    <div style={{ display: 'flex' }}>
                        <div style={{ display: 'block', width: '45%' }}></div>
                        <ReferenceOverlay
                            overlayProps={{ style: { maxWidth: 300 } }}
                            overlayContent={<Lorem paragraphs={1} />}
                            triggerMode="click"
                        >
                            <Button mean="primary">Click me</Button>
                        </ReferenceOverlay>
                        <div style={{ display: 'block', width: '45%' }}></div>
                    </div>
                    <div style={{ display: 'block', height: 400 }}></div>
                </div>
            </div>
        </div>
    </Story>
</Canvas>

## Arrow

To see how the arrow is used and styled, please have a look at the `Tooltip` component.

## ReferenceOverlay Props

<ArgsTable of={ReferenceOverlay} />
